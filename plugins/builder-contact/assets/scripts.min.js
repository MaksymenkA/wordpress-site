'use strict';(function(c){if(Themify.is_builder_active||null!==document.querySelector("form.builder-contact")){var h=function(a){var b=new FormData(c(a)[0]);b.append("action","builder_contact_send");b.append("post_id",a.data("post-id"));b.append("element_id",a.data("element-id"));b.append("nonce",BuilderContact.nonce);0<a.find('[name="g-recaptcha-response"]').length&&b.append("contact-recaptcha",a.find('[name="g-recaptcha-response"]').val());c.ajax({url:a.prop("action"),method:"POST",enctype:"multipart/form-data",
processData:!1,contentType:!1,cache:!1,data:b,success:function(b){a.removeClass("sending");b.success?(a.find(".contact-message").html('<p class="ui light-green contact-success">'+b.data.msg+"</p>").fadeIn(),Themify.body.trigger("builder_contact_message_sent",[a,b.data.msg]),""!==b.data.redirect_url&&(window.location=b.data.redirect_url),a[0].reset()):(a.find(".contact-message").html('<p class="ui red contact-error">'+b.data.error+"</p>").fadeIn(),Themify.body.trigger("builder_contact_message_failed",
[a,b.data.error]));c("html").stop().animate({scrollTop:a.offset().top-100},500,"swing");"object"===typeof grecaptcha&&grecaptcha.reset()}})},f=function(){if(!Themify.is_builder_active)Themify.body.on("submit",".builder-contact",function(a){a.preventDefault();var b=c(this);if(b.hasClass("sending"))return!1;b.addClass("sending").find(".contact-message").fadeOut();var d=c(".themify_captcha_field",b);0<d.length&&"v3"===d.data("ver")&&"undefined"!==typeof grecaptcha?grecaptcha.ready(function(){grecaptcha.execute(d.data("sitekey"),
{action:"captcha"}).then(function(a){b.prepend('<input type="hidden" name="g-recaptcha-response" value="'+a+'">');h(b)})}):h(b)})},k=function(a){a=c(".themify_captcha_field",a);0<a.length?"undefined"===typeof grecaptcha?a.data("sitekey")&&(a="https://www.google.com/recaptcha/api.js"+("v3"===a.data("ver")?"?render="+a.data("sitekey"):""),Themify.LoadAsync(a,f,!1,!0,function(){return"undefined"!==typeof grecaptcha})):f():f()};Themify.body.on("focus",".module-contact.contact-animated-label input, .module-contact.contact-animated-label textarea",
function(){var a=c("label[for='"+c(this).attr("id")+"']");0===a.length&&(a=c(this).closest(".builder-contact-field").find("label"));a.css({top:0,left:0})}).on("blur",".module-contact.contact-animated-label input, .module-contact.contact-animated-label textarea",function(){if(""==c(this).val()){var a=c("label[for='"+c(this).attr("id")+"']");0==a.length&&(a=c(this).closest(".builder-contact-field").find("label"));var b=a.next(".control-input").find("input,textarea");"TEXTAREA"===b.prop("tagName")?a.css("top",
a.outerHeight()/2+b.outerHeight()/parseInt(b.prop("rows"))+"px"):a.css("top",a.outerHeight()/2+b.outerHeight()/2+"px");a.css("left","10px")}}).on("change",'.builder-contact-field .control-input input[type="checkbox"].required',function(){var a=c(this).closest(".control-input").find('input[type="checkbox"]');a.prop("required",!0);a.is(":checked")&&a.prop("required",!1)}).on("reset","form.builder-contact",function(){c(this).find('.builder-contact-field .control-input input[type="checkbox"].required').prop("required",
!0)});var e=!0,g=function(a){(function(a){var b=c(".builder-contact-fields",a);b.each(function(){var a=c(this).children("div").get(),b=document.createDocumentFragment();a.sort(function(a,b){a=c(a).attr("data-order")?parseInt(c(a).attr("data-order")):c(a).index();b=c(b).attr("data-order")?parseInt(c(b).attr("data-order")):c(b).index();return a<b?-1:a>b?1:0});for(var d=0,e=a.length;d<e;++d)b.appendChild(a[d]);this.appendChild(b)});b=c(".module-contact.contact-animated-label",a);a&&a.hasClass("contact-animated-label")&&
(b=b.add(a));0<b.length?(b.find("input,textarea").prop("placeholder","").trigger("blur"),setTimeout(function(){b.find("label").css({"transition-property":"top, left","transition-duration":"0.3s",visibility:"visible"});e=null},50)):e=null})(a);k(a)};Themify.is_builder_active?Themify.is_builder_loaded?g():e=null:g();Themify.body.on("builder_load_module_partial",function(a,b,c){null===e&&g(b)})}})(jQuery);
